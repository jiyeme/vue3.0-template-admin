System.register(["./vendor-legacy.937d0265.js","./index-legacy.12b92241.js"],(function(e){"use strict";var r,s,t,o;return{setters:[function(e){r=e.P,s=e.A},function(e){t=e.s,o=e.a}],execute:function(){var a=e("r",r.create({baseURL:"/api",timeout:1e4,withCredentials:!1}));a.interceptors.request.use((function(e){var r=t.state.token;return r&&(e.headers.Authorization="Bearer ".concat(r)),e}),(function(e){return console.log("request error",e),Promise.reject(e)})),a.interceptors.response.use((function(e){if(console.log("response",e),200!==e.status)return Promise.reject(e);var r=e.data;return r.code&&200!==r.code?(console.log("状态码异常",r),r.msg&&s.ElMessage({message:r.msg,center:!0,type:"error"}),Promise.reject(r)):e.data}),(function(e){if(console.log("请求出现异常 - ",e),console.log("错误对象类型 - ",Object.prototype.toString.call(e)),console.log("error.name",e.name),console.log("error.message",e.message),console.log("error.code",e.code),console.log("error.status",e.status),"Network Error"===e.message)return s.ElMessage({message:"网络错误！",center:!0,type:"error"}),Promise.reject(e);if(e.message.includes("timeout"))return s.ElMessage({message:"响应超时",center:!0,type:"error"}),Promise.reject(e);var r=e.response,a=r.data||null;if(console.log(r),r&&r.status)switch(r.status){case 401:s.ElMessage({message:"未登录",center:!0}),localStorage.removeItem("token"),t.commit("set_isLogin",!1),o.push({path:"/user/login",query:{redirect:o.currentRoute.value.fullPath}});break;case 403:s.ElMessage({message:"你没有权限执行该操作",center:!0});break;case 404:s.ElMessage({message:"接口不存在！",center:!0});break;default:a.error?s.ElMessage({message:a.error,center:!0,type:"error"}):s.ElMessage({message:"请求发生异常1！",center:!0,type:"error"})}else s.ElMessage({message:"请求发生异常2！",center:!0,type:"error"});return console.log(" ==== axios尝试处理异常结束 ==== "),Promise.reject(e)}))}}}));
